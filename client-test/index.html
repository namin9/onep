<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archive Editor - API Test Harness</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        h1, h2 { border-bottom: 1px solid #ccc; padding-bottom: 10px; }
        .api-section { margin-bottom: 20px; padding: 10px; border: 1px solid #eee; }
        .api-section h3 { margin-top: 0; }
        textarea { width: 100%; height: 150px; font-family: monospace; }
        button { margin-top: 10px; padding: 8px 12px; cursor: pointer; }
        label { display: block; margin-top: 10px; }
        input { width: 300px; padding: 5px; }
        pre { background-color: #f4f4f4; padding: 15px; border: 1px solid #ddd; white-space: pre-wrap; word-wrap: break-word; }
    </style>
</head>
<body>
    <h1>Archive Editor - API Test Harness</h1>

    <div class="api-section">
        <h3>Worker URL</h3>
        <label for="workerUrl">Your Worker URL:</label>
        <input type="text" id="workerUrl" placeholder="https://onep.your-username.workers.dev">
    </div>

    <div class="api-section">
        <h3>1. Authentication</h3>
        <button id="loginBtn">Login (with mock Google Code)</button>
        <p>JWT (will be stored automatically):</p>
        <textarea id="jwt-display" readonly></textarea>
    </div>

    <div class="api-section">
        <h3>2. API Calls (Authenticated)</h3>
        <div>
            <h4>Upgrade Stat</h4>
            <button id="upgradeStatBtn">POST /api/user/upgrade_stat</button>
        </div>
        <hr>
        <div>
            <h4>Gacha Pull</h4>
            <button id="gachaPullBtn">POST /api/gacha/pull (10x)</button>
        </div>
    </div>
    
    <div class="api-section">
        <h3>3. API Response</h3>
        <pre id="response-output">Awaiting API call...</pre>
    </div>

    <script src="main.js"></script>
</body>
</html>
